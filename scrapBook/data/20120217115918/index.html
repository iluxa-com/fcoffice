<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

   
  
   <meta name="Robots" content="index,follow"> 
  
  
  <!-- highscalability -->

  <link rel="shortcut icon" href="favicon.png" type="image/png">

  
  
  
  
  
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/HighScalability">
  
  
  <!-- Google Web Fonts -->
  

  













  

      <title>High Scalability - High Scalability - YouTube&nbsp;Architecture</title>
  

  <!-- End Heading -->

  




<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="modulePage4867632" class="objectId5337290">

  

    

  




  

  <div id="canvasWrapper"><div id="canvas">
  
  

  <div id="pageHeaderWrapper"><div id="pageHeader">

      <div id="navigationTop"><div id="navigationTop-sectionContent2191792" class="horizontalNavigationBar"><ul class="content-navigation">
    
  <li class="module active-module  " id="navigationTop-moduleContentWrapper4867632">

    <div id="navigationTop-moduleContent4867632">

              <a id="navigationTop-moduleLink4867632" class=" " href="http://highscalability.com/"><span>Home</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper4850438">

    <div id="navigationTop-moduleContent4850438">

              <a id="navigationTop-moduleLink4850438" class=" " href="http://highscalability.com/blog/category/example"><span>Real Life Architectures</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper10576114">

    <div id="navigationTop-moduleContent10576114">

              <a id="navigationTop-moduleLink10576114" class=" " href="http://highscalability.squarespace.com/blog/category/strategy"><span>Strategies</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper4847294">

    <div id="navigationTop-moduleContent4847294">

              <a id="navigationTop-moduleLink4847294" class=" " href="http://highscalability.com/all-posts/"><span>All Posts</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper4850431">

    <div id="navigationTop-moduleContent4850431">

              <a id="navigationTop-moduleLink4850431" class=" " href="http://highscalability.com/advertising/"><span>Advertising</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper4850388">

    <div id="navigationTop-moduleContent4850388">

              <a id="navigationTop-moduleLink4850388" class=" " href="http://highscalability.com/contact/"><span>contact</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper5498762">

    <div id="navigationTop-moduleContent5498762">

              <a id="navigationTop-moduleLink5498762" class=" " href="http://astore.amazon.com/possiboutpos-20"><span>Book Store</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper4850400">

    <div id="navigationTop-moduleContent4850400">

              <a id="navigationTop-moduleLink4850400" class=" " href="http://highscalability.com/start-here/"><span>Start Here</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationTop-moduleContentWrapper5861345">

    <div id="navigationTop-moduleContent5861345">

              <a id="navigationTop-moduleLink5861345" class=" " href="http://feeds.feedburner.com/HighScalability"><span>RSS</span></a>
      

      

    </div>

  </li>


  </ul><br class="clearer"></div></div>

    
        
      
  
      <div id="bannerAreaWrapper"><div id="bannerArea">

        
        <div id="bannerWrapper">
          <a href="http://highscalability.com/"><img id="banner" src="hsbannertrebuchet.jpg" alt="High Scalability" title="High Scalability"></a>
        </div>  

      
      
      </div></div>
    
    
    

      <div id="navigationBottom"><div id="navigationBottom-sectionContent2191792" class="horizontalNavigationBar"><ul class="content-navigation">
    
  <li class="module active-module  " id="navigationBottom-moduleContentWrapper4867632">

    <div id="navigationBottom-moduleContent4867632">

              <a id="navigationBottom-moduleLink4867632" class=" " href="http://highscalability.com/"><span>Home</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper4850438">

    <div id="navigationBottom-moduleContent4850438">

              <a id="navigationBottom-moduleLink4850438" class=" " href="http://highscalability.com/blog/category/example"><span>Real Life Architectures</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper10576114">

    <div id="navigationBottom-moduleContent10576114">

              <a id="navigationBottom-moduleLink10576114" class=" " href="http://highscalability.squarespace.com/blog/category/strategy"><span>Strategies</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper4847294">

    <div id="navigationBottom-moduleContent4847294">

              <a id="navigationBottom-moduleLink4847294" class=" " href="http://highscalability.com/all-posts/"><span>All Posts</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper4850431">

    <div id="navigationBottom-moduleContent4850431">

              <a id="navigationBottom-moduleLink4850431" class=" " href="http://highscalability.com/advertising/"><span>Advertising</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper4850388">

    <div id="navigationBottom-moduleContent4850388">

              <a id="navigationBottom-moduleLink4850388" class=" " href="http://highscalability.com/contact/"><span>contact</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper5498762">

    <div id="navigationBottom-moduleContent5498762">

              <a id="navigationBottom-moduleLink5498762" class=" " href="http://astore.amazon.com/possiboutpos-20"><span>Book Store</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper4850400">

    <div id="navigationBottom-moduleContent4850400">

              <a id="navigationBottom-moduleLink4850400" class=" " href="http://highscalability.com/start-here/"><span>Start Here</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="navigationBottom-moduleContentWrapper5861345">

    <div id="navigationBottom-moduleContent5861345">

              <a id="navigationBottom-moduleLink5861345" class=" " href="http://feeds.feedburner.com/HighScalability"><span>RSS</span></a>
      

      

    </div>

  </li>


  </ul><br class="clearer"></div></div>


  </div></div>
  
  

  

  
  <div id="pageBodyWrapper"><div id="pageBody">
  
  <div id="sidebar1Wrapper" class="verticalNavigationBarWrapper"><div class="iw-vnb1"><div class="iw-vnb2"><div class="iw-vnb3"><div class="iw-vnb4"><div id="sidebar1" class="verticalNavigationBar">

  

    <div id="sectionContent2251797" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

      

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper4876569" class="widget-wrapper  widget-type-search"><div id="moduleContent4876569">


<!-- <form method="get" action="/display/Search">
	<div class="search-form-pt-wrapper">
	  <div class="search-form-pt">
	    <span class="queryFieldWrapper"><input type="text" class="text queryField" name="searchQuery" value=""/></span>
	    <span class="queryButtonWrapper"><input type="submit" class="button queryButton" value="&raquo;"/></span>
	    <input type="hidden" name="moduleId" value="4876569"/>
	    <br class="clearer"/>
	  </div>
	</div>
</form> -->

<form method="get" action="http://highscalability.com/display/Search">
	<input name="moduleId" value="4876569" type="hidden">
	<table class="search-form-pt-wrapper search-form-table" border="0" cellpadding="0" cellspacing="0">
		<tbody><tr class="search-form-pt search-form-row">
			<td class="queryFieldCell search-form-cell">
				<span class="queryFieldWrapper">
					<input class="text queryField" name="searchQuery" value="" type="text">
				</span>
			</td>
			<td class="queryButtonCell search-form-cell">
				<span class="queryButtonWrapper">
					<input class="button queryButton" value="â†’" type="submit">
				</span>
			</td>
		</tr>
	</tbody></table> 
</form></div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent3898026" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

      

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper9287263" class="widget-wrapper  widget-type-page"><div id="moduleContent9287263">





  <center>
  
  <!-- SS_HS_Ad4 -->
  <div id="div-gpt-ad-1325175098795-11" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
  
  <!-- SS_HS_Ad5 -->
  <div id="div-gpt-ad-1325175098795-12" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
  
   
  <!-- SS_HS_Ad6 -->
  <div id="div-gpt-ad-1325175098795-13" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
  
  
  <!-- SS_HS_Ad8 
  <div id='div-gpt-ad-1325175098795-15' style='width:125px; height:125px; margin: 3px;'>
  <script type='text/javascript'>
  googletag.cmd.push(function() { googletag.display('div-gpt-ad-1325175098795-15'); });
  </script>
  </div>
  -->
  </center>
  

</div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent2191792" class="sectionWrapper promotedContainer "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

       <div class="caption">Top</div> 

      
        
          <ul class="content-navigation">
  <li class="module active-module  " id="moduleContentWrapper4867632">

    <div id="moduleContent4867632">

              <a id="moduleLink4867632" class=" " href="http://highscalability.com/"><span>Home</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4850438">

    <div id="moduleContent4850438">

              <a id="moduleLink4850438" class=" " href="http://highscalability.com/blog/category/example"><span>Real Life Architectures</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper10576114">

    <div id="moduleContent10576114">

              <a id="moduleLink10576114" class=" " href="http://highscalability.squarespace.com/blog/category/strategy"><span>Strategies</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4847294">

    <div id="moduleContent4847294">

              <a id="moduleLink4847294" class=" " href="http://highscalability.com/all-posts/"><span>All Posts</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4850431">

    <div id="moduleContent4850431">

              <a id="moduleLink4850431" class=" " href="http://highscalability.com/advertising/"><span>Advertising</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4850388">

    <div id="moduleContent4850388">

              <a id="moduleLink4850388" class=" " href="http://highscalability.com/contact/"><span>contact</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper5498762">

    <div id="moduleContent5498762">

              <a id="moduleLink5498762" class=" " href="http://astore.amazon.com/possiboutpos-20"><span>Book Store</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4850400">

    <div id="moduleContent4850400">

              <a id="moduleLink4850400" class=" " href="http://highscalability.com/start-here/"><span>Start Here</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper5861345">

    <div id="moduleContent5861345">

              <a id="moduleLink5861345" class=" " href="http://feeds.feedburner.com/HighScalability"><span>RSS</span></a>
      

      

    </div>

  </li>

</ul>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent2248744" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

       <div class="caption">Recent Posts</div> 

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper4867742" class="widget-wrapper  widget-type-journalarchive"><div id="moduleContent4867742">







  <ul class="archive-item-list-pt">
     <li><a href="http://highscalability.com/blog/2012/2/16/a-super-short-on-the-youporn-stack-300k-qps-and-100-million.html">A Super Short on the Youporn Stack - 300K QPS and 100 Million Page Views Per Day</a></li>  <li><a href="http://highscalability.com/blog/2012/2/16/a-short-on-the-pinterest-stack-for-handling-3-million-users.html">A Short on the Pinterest Stack for Handling 3+ Million Users</a></li>  <li><a href="http://highscalability.com/blog/2012/2/14/sponsored-post-percona-live-aicache-next-big-sound-elasticho.html">Sponsored Post: Percona Live, AiCache, Next Big Sound, ElasticHosts, Red 5 Studios, Logic Monitor, New Relic, AppDynamics, CloudSigma, ManageEngine, Site24x7</a></li>  <li><a href="http://highscalability.com/blog/2012/2/13/tumblr-architecture-15-billion-page-views-a-month-and-harder.html">Tumblr Architecture - 15 Billion Page Views a Month and Harder to Scale than Twitter</a></li>  <li><a href="http://highscalability.com/blog/2012/2/10/stuff-the-internet-says-on-scalability-for-february-10-2012.html">Stuff The Internet Says On Scalability For February 10, 2012</a></li>  <li><a href="http://highscalability.com/blog/2012/2/7/hypertable-routs-hbase-in-performance-test-hbase-overwhelmed.html">Hypertable Routs HBase in Performance Test -- HBase Overwhelmed by Garbage Collection</a></li>  <li><a href="http://highscalability.com/blog/2012/2/6/the-design-of-99designs-a-clean-tens-of-millions-pageviews-a.html">The Design of 99designs - A Clean Tens of Millions Pageviews Architecture</a></li>  <li><a href="http://highscalability.com/blog/2012/2/3/stuff-the-internet-says-on-scalability-for-february-3-2012.html">Stuff The Internet Says On Scalability For February 3, 2012</a></li>  <li><a href="http://highscalability.com/blog/2012/2/2/the-data-scope-project-6pb-storage-500gbytessec-sequential-i.html">The Data-Scope Project - 6PB storage, 500GBytes/sec sequential IO, 20M IOPS, 130TFlops</a></li>  <li><a href="http://highscalability.com/blog/2012/1/31/performance-in-the-cloud-business-jitter-is-bad.html">Performance in the Cloud: Business Jitter is Bad</a></li> 
  </ul>



</div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent2248756" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

       <div class="caption">All Time Favorites</div> 

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper4869720" class="widget-wrapper  widget-type-page"><div id="moduleContent4869720">





  <ul style="padding-left: 0pt; margin-left: 0pt; list-style-type: square;">
  <li><a href="http://highscalability.com/youtube-architecture">YouTube Architecture</a></li>
  <li><a href="http://highscalability.com/plentyoffish-architecture">Plenty Of Fish Architecture</a></li>
  <li><a href="http://highscalability.com/google-architecture">Google Architecture</a></li>
  <li><a href="http://highscalability.com/blog/2011/12/19/how-twitter-stores-250-million-tweets-a-day-using-mysql.html">How Twitter Stores 250 Million Tweets A Day Using MySQL</a></li>
  <li><a href="http://highscalability.com/scaling-twitter-making-twitter-10000-percent-faster">Scaling Twitter: Making Twitter 10000 Percent Faster</a></li>
  <li><a href="http://highscalability.com/flickr-architecture">Flickr Architecture</a></li>
  <li><a href="http://highscalability.com/amazon-architecture">Amazon Architecture</a></li>
  <li><a href="http://highscalability.com/how-i-learned-stop-worrying-and-love-using-lot-disk-space-scale">How I Learned to Stop Worrying and Love Using a Lot of Disk Space to Scale</a></li>
  <li><a href="http://highscalability.com/blog/2009/8/5/stack-overflow-architecture.html">Stack Overflow Architecture</a> </li>
  <li><a href="http://highscalability.com/blog/category/facebook">Facebook</a></li>
  <li><a href="http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html">An Unorthodox Approach to Database Design : The Coming of the Shard</a></li>
  <li><a href="http://highscalability.com/blog/2009/12/16/building-super-scalable-systems-blade-runner-meets-autonomic.html">Building Super Scalable Systems: Blade Runner Meets Autonomic Computing in the Ambient&nbsp;Cloud</a></li>
  <li><a href="http://highscalability.com/blog/2009/3/16/are-cloud-based-memory-architectures-the-next-big-thing.html">Are Cloud Based Memory Architectures the Next Big Thing?</a></li>
  <li><a href="http://highscalability.com/blog/2009/7/25/latency-is-everywhere-and-it-costs-you-sales-how-to-crush-it.html">Latency is Everywhere and it Costs You Sales - How to Crush it</a></li>
  <li><a href="http://highscalability.com/blog/2010/5/5/how-will-memristors-change-everything.html">How will memristors change everything?</a>&nbsp;</li>
  <li><a href="http://highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html">DataSift Architecture: Realtime Datamining At 120,000 Tweets Per Second</a></li>
  <li><a href="http://highscalability.com/blog/category/blog">Useful Scalability Blogs</a></li>
  <li><a href="http://highscalability.com/blog/category/blog"></a><a class="journal-entry-navigation-current" href="http://highscalability.com/blog/2009/7/16/scaling-traffic-people-pod-pool-of-on-demand-self-driving-ro.html">Scaling Traffic: People Pod Pool of On Demand Self Driving Robotic Cars who Automatically Refuel from Cheap&nbsp;Solar</a></li>
  <li><a href="http://highscalability.com/blog/2010/6/28/voltdb-decapitates-six-sql-urban-myths-and-delivers-internet.html">VoltDB Decapitates Six SQL Urban Myths And Delivers Internet Scale OLTP In The Process</a></li>
  <li><a href="http://highscalability.com/blog/2009/8/7/the-canonical-cloud-architecture.html">The Canonical Cloud Architecture&nbsp;</a></li>
  <li><a href="http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html">Justin.Tv's Live Video Broadcasting Architecture</a></li>
  <li><a href="http://highscalability.com/blog/2009/10/13/why-are-facebook-digg-and-twitter-so-hard-to-scale.html">Why Are Facebook, Digg, And Twitter So Hard To Scale?</a></li>
  <li><a href="http://highscalability.com/blog/2010/12/6/what-the-heck-are-you-actually-using-nosql-for.html">What The Heck Are You Actually Using NoSQL For?</a></li>
  <li><a href="http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html">Playfish's Social Gaming Architecture - 50 Million Monthly Users And Growing</a> </li>
  <li><a href="http://highscalability.com/blog/2011/5/2/the-updated-big-list-of-articles-on-the-amazon-outage.html">The Updated Big List Of Articles On The Amazon Outage</a> </li>
  </ul>
</div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

  

</div></div></div></div></div></div>
  <div id="sidebar2Wrapper" class="verticalNavigationBarWrapper"><div class="iw-vnb1"><div class="iw-vnb2"><div class="iw-vnb3"><div class="iw-vnb4"><div id="sidebar2" class="verticalNavigationBar">

  

    <div id="sectionContent2249261" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

      

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper4869210" class="widget-wrapper  widget-type-page"><div id="moduleContent4869210">





  <center>
  <!-- SS_HS_Ad1 -->
  <div id="div-gpt-ad-1325175098795-0" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad10 -->
  <div id="div-gpt-ad-1325175098795-1" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad11 -->
  <div id="div-gpt-ad-1325175098795-2" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad12 -->
  <div id="div-gpt-ad-1325175098795-3" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad13 -->
  <div id="div-gpt-ad-1325175098795-4" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad14 -->
  <div id="div-gpt-ad-1325175098795-5" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad15 -->
  <div id="div-gpt-ad-1325175098795-6" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad16 -->
  <div id="div-gpt-ad-1325175098795-7" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad17 -->
  <div id="div-gpt-ad-1325175098795-8" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad2 -->
  <div id="div-gpt-ad-1325175098795-9" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  <!-- SS_HS_Ad3 -->
  <div id="div-gpt-ad-1325175098795-10" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
   
  
  <!-- SS_HS_ad7 -->
  <div id="div-gpt-ad-1325175098795-14" style="width: 125px; height: 125px; margin: 3px;">
  
  </div>
  
  
  
  <!-- SS_HS_Ad9 
  <div id='div-gpt-ad-1325175098795-16' style='width:125px; height:125px; margin: 3px;'>
  <script type='text/javascript'>
  googletag.cmd.push(function() { googletag.display('div-gpt-ad-1325175098795-16'); });
  </script>
  </div>
  -->
  
  </center>
  
  <center><a href="http://highscalability.com/advertising">advertise</a></center>

</div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent2191793" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

      

      
        
          <ul class="content-navigation">
  <li class="module   " id="moduleContentWrapper4708561">

    <div id="moduleContent4708561">

              <a id="moduleLink4708561" class=" " href="http://highscalability.com/login/?returnUrl=%2Fyoutube-architecture"><span>Login</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4869034">

    <div id="moduleContent4869034">

              <a id="moduleLink4869034" class=" " href="http://highscalability.com/register/"><span>Register</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4870172">

    <div id="moduleContent4870172">

              <a id="moduleLink4870172" class=" " href="http://highscalability.squarespace.com/blog/category/product"><span>Useful Products</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4870194">

    <div id="moduleContent4870194">

              <a id="moduleLink4870194" class=" " href="http://highscalability.squarespace.com/blog/category/paper"><span>Useful Papers</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4870201">

    <div id="moduleContent4870201">

              <a id="moduleLink4870201" class=" " href="http://highscalability.squarespace.com/blog/category/strategy"><span>Useful Strategies</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4885586">

    <div id="moduleContent4885586">

              <a id="moduleLink4885586" class=" " href="http://highscalability.com/blog/category/blog"><span>Useful Blogs</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4920227">

    <div id="moduleContent4920227">

              <a id="moduleLink4920227" class=" " href="http://highscalability.com/blog/category/book"><span>Useful Books</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper12001611">

    <div id="moduleContent12001611">

              <a id="moduleLink12001611" class=" " href="http://highscalability.com/blog/2011/9/14/big-list-of-scalabilty-conferences.html"><span>Useful Conferences</span></a>
      

      

    </div>

  </li>


  <li class="module   " id="moduleContentWrapper4878991">

    <div id="moduleContent4878991">

              <a id="moduleLink4878991" class="offsite-link " href="http://astore.amazon.com/possiboutpos-20" onclick="this.target='new';"><span>Book Store</span></a>
      

      

    </div>

  </li>

</ul>

        

      
  
    </div></div></div></div></div></div>

  

    <div id="sectionContent2248734" class="sectionWrapper  "><div class="iw-s1"><div class="iw-s2"><div class="iw-s3"><div class="iw-s4"><div class="section">

      

      
        
          <div class="content-passthrough"><div id="moduleContentWrapper4867711" class="widget-wrapper  widget-type-rss-syndicate"><div id="moduleContent4867711">



  <ul class="feed-list-inline">
    
          <li><a href="http://feeds.feedburner.com/HighScalability" class="feed-link">High Scalability RSS</a></li>
        
          <li><a href="http://highscalability.com/blog/rss-comments.xml" class="feed-link">High Scalability Comments RSS</a></li>
        
  </ul>

</div></div></div>

        

      
  
    </div></div></div></div></div></div>

  

  

</div></div></div></div></div></div>
  
  

  <div id="contentWrapper"><div id="content">
    
          
    


  

  
  
      
  <div class="journal-entry-navigation">

    
       <a class="journal-entry-navigation-prev" href="http://highscalability.com/blog/2008/3/14/problem-mobbing-the-least-used-resource-error.html">Â« Problem: Mobbing the Least Used Resource Error</a> | 
      <a class="journal-entry-navigation-main" href="http://highscalability.com/blog/">Main</a>
       | <a class="journal-entry-navigation-next" href="http://highscalability.com/blog/2008/3/10/best-practices-for-speeding-up-your-web-site.html">Best Practices for Speeding Up Your Web Site Â»</a> 

    

  </div>


  
  
  <div class="single-journal-entry-wrapper">
    


<div class="journal-entry-wrapper post-text authored-by-toddhoff category-apache category-cdn category-example">
<div id="item5337290" class="journal-entry">

  <div class="journal-entry-float-day"><span class="name">Wednesday</span></div><div class="journal-entry-float-date"><span class="month">Mar</span><span class="date">12</span><span class="year">2008</span></div>
  
  
  
  <div class="journal-entry-text">
  
      
      <h2 class="title">
    
        
    
        <a class="journal-entry-navigation-current" href="http://highscalability.com/blog/2008/3/12/youtube-architecture.html">YouTube&nbsp;Architecture</a>  
     
         
    
      </h2>
      
       <div class="journal-entry-tag journal-entry-tag-post-title"><span class="posted-on">   <img title="Date" alt="Date" class="inline-icon date-icon" rel="smalllight" src="transparent.png">Wednesday, March 12, 2008 at 3:54PM</span> </div> 

    
  
      
      <div class="body">
  
        
        
        
          <p><strong>Update 2:</strong>&nbsp;<a href="http://mashable.com/2009/10/09/youtube-billion-views/">YouTube Reaches One Billion Views Per Day</a>. <em>Thatâ€™s at least 11,574 views per second, 694,444 views per minute, and 41,666,667 views per hour. </em> <br><strong>Update:</strong> <a href="http://www.techcrunch.com/2008/03/12/youtube-the-platform/">YouTube: The Platform</a>. YouTube adds a new rich set of APIs in order to become your video platform leader--all for free. Upload, edit, watch, search, and comment on video from your own site without visiting YouTube. Compose your site internally from APIs because you'll need to expose them later anyway. <br><br>YouTube grew incredibly fast, to over 100 million video views per day, with only a handful of people responsible for scaling the site. How did they manage to deliver all that video to all those users? And how have they evolved since being acquired by Google?</p>
<h2>Information Sources</h2>
<ol>
<li> <a href="http://video.google.com/videoplay?docid=-6304964351441328559"> Google Video</a></li>
</ol>
<h2>Platform</h2>
<ol>
<li> Apache</li>
<li> Python</li>
<li> Linux (SuSe)</li>
<li> MySQL </li>
<li> psyco, a dynamic python-&gt;C compiler</li>
<li> lighttpd for video instead of Apache </li>
</ol>
<h2>What's Inside?</h2>
<h3>The Stats</h3>
<ol>
<li> Supports the delivery of over 100 million videos per day.</li>
<li> Founded 2/2005</li>
<li> 3/2006 30 million video views/day</li>
<li> 7/2006 100 million video views/day</li>
<li> 2 sysadmins, 2 scalability software architects</li>
<li> 2 feature developers, 2 network engineers, 1 DBA</li>
</ol>
<h3>Recipe for handling rapid growth</h3>
<p><code> while (true)<br> { <br> identify_and_fix_bottlenecks();<br> drink();<br> sleep();<br> notice_new_bottleneck();<br> }</code><br><br>This loop runs many times a day.</p>
<h3>Web Servers</h3>
<ol>
<li> NetScalar is used for load balancing and caching static content.</li>
<li> Run Apache with mod_fast_cgi.</li>
<li> Requests are routed for handling by a Python application server.</li>
<li> Application server talks to various databases and other informations sources to get all the data and formats the html page.</li>
<li>Can usually scale web tier by adding more machines.</li>
<li> The Python web code is usually NOT the bottleneck, it spends most of its time blocked on RPCs.</li>
<li> Python allows rapid flexible development and deployment. This is critical given the competition they face.</li>
<li> Usually less than 100 ms page service times.</li>
<li> Use psyco, a dynamic python-&gt;C compiler that uses a JIT compiler approach to optimize inner loops.</li>
<li> For high CPU intensive activities like encryption, they use C extensions.</li>
<li> Some pre-generated cached HTML for expensive to render blocks.</li>
<li> Row level caching in the database.</li>
<li> Fully formed Python objects are cached.</li>
<li> Some data are calculated and sent to each application so the values are cached in local memory. This is an underused strategy. The fastest cache is in your application server and it doesn't take much time to send precalculated data to all your servers. Just have an agent that watches for changes, precalculates, and sends.</li>
</ol>
<h3>Video Serving</h3>
<li> Costs include bandwidth, hardware, and power consumption.</li>
<li> Each video hosted by a mini-cluster. Each video is served by more than one machine.</li>
<li> Using a a cluster means:<br>- More disks serving content which means more speed.<br>- Headroom. If a machine goes down others can take over.<br>- There are online backups.</li>
<li> Servers use the lighttpd web server for video:<br>- Apache had too much overhead.<br>- Uses epoll to wait on multiple fds.<br>- Switched from single process to multiple process configuration to handle more connections.</li>
<li> Most popular content is moved to a CDN (content delivery network):<br>- CDNs replicate content in multiple places. There's a better chance of content being closer to the user, with fewer hops, and content will run over a more friendly network.<br>- CDN machines mostly serve out of memory because the content is so popular there's little thrashing of content into and out of memory.</li>
<li> Less popular content (1-20 views per day) uses YouTube servers in various colo sites.<br>- There's a long tail effect. A video may have a few plays, but lots of videos are being played. Random disks blocks are being accessed.<br>- Caching doesn't do a lot of good in this scenario, so spending money on more cache may not make sense. This is a very interesting point. If you have a long tail product caching won't always be your performance savior. <br>- Tune RAID controller and pay attention to other lower level issues to help.<br>- Tune memory on each machine so there's not too much and not too little.</li>
<h3>Serving Video Key Points</h3>
<ol>
<li> Keep it simple and cheap.</li>
<li> Keep a simple network path. Not too many devices between content and users. Routers, switches, and other appliances may not be able to keep up with so much load.</li>
<li> Use commodity hardware. More expensive hardware gets the more expensive everything else gets too (support contracts). You are also less likely find help on the net.</li>
<li> Use simple common tools. They use most tools build into Linux and layer on top of those.</li>
<li> Handle random seeks well (SATA, tweaks).</li>
</ol>
<h3>Serving Thumbnails</h3>
<li> Surprisingly difficult to do efficiently.</li>
<li> There are a like 4 thumbnails for each video so there are a lot more thumbnails than videos.</li>
<li> Thumbnails are hosted on just a few machines.</li>
<li> Saw problems associated with serving a lot of small objects:<br>- Lots of disk seeks and problems with inode caches and page caches at OS level.<br>- Ran into per directory file limit. Ext3 in particular. Moved to a more hierarchical structure. Recent improvements in the 2.6 kernel may improve Ext3 large directory handling up to <a href="http://ext2.sourceforge.net/2005-ols/paper-html/node3.html">100 times</a>, yet storing lots of files in a file system is still not a good idea.<br>- A high number of requests/sec as web pages can display 60 thumbnails on page.<br>- Under such high loads Apache performed badly.<br>- Used squid (reverse proxy) in front of Apache.  This worked for a while, but as load increased performance eventually decreased. Went from 300 requests/second to 20.<br>- Tried using lighttpd but with a single threaded it stalled. Run into problems with multiprocesses mode because they would each keep a separate cache.<br>- With so many images setting up a new machine took over 24 hours.<br>- Rebooting machine took 6-10 hours for cache to warm up to not go to disk.</li>
<li> To solve all their problems they started using Google's BigTable, a distributed data store:<br>- Avoids small file problem because it clumps files together.<br>- Fast, fault tolerant. Assumes its working on a unreliable network.<br>- Lower latency because it uses a distributed multilevel cache. This cache works across different collocation sites.<br>- For more information on BigTable take a look at <a href="http://highscalability.com/google-architecture">Google Architecture</a>, <a href="http://highscalability.com/googletalk-architecture">GoogleTalk Architecture</a>, and <a href="http://highscalability.com/tags/bigtable">BigTable</a>.</li>
<h3>Databases</h3>
<ol>
<li> The Early Years<br>- Use MySQL to store meta data like users, tags, and descriptions.<br>- Served data off a monolithic RAID 10 Volume with 10 disks. <br>- Living off credit cards so they leased hardware. When they needed more hardware to handle load it took a few days to order and get delivered.  <br>- They went through a common evolution: single server, went to a single master with multiple read slaves, then partitioned the database, and then settled on a sharding approach.<br>- Suffered from replica lag. The master is multi-threaded and runs on a large machine so it can handle a lot of work. Slaves are single threaded and usually run on lesser machines and replication is asynchronous, so the slaves can lag significantly behind the master. <br>- Updates cause cache misses which goes to disk where slow I/O causes slow replication.<br>- Using a replicating architecture you need to spend a lot of money for incremental bits of write performance.<br>- One of their solutions was prioritize traffic by splitting the data into two clusters: a video watch pool and a general cluster. The idea is that people want to watch video so that function should get the most resources. The social networking features of YouTube are less important so they can be routed to a less capable cluster.</li>
<li>The later years:<br>- Went to database partitioning.<br>- Split into shards with users assigned to different shards.<br>- Spreads writes and reads.<br>- Much better cache locality which means less IO.<br>- Resulted in a 30% hardware reduction.<br>- Reduced replica lag to 0.<br>- Can now scale database almost arbitrarily.</li>
</ol>
<h3>Data Center Strategy</h3>
<ol>
<li> Used <a href="http://www.webhostingsearch.com/managed-web-hosting.php">manage hosting</a> providers at first. Living off credit cards so it was the only way.</li>
<li> Managed hosting can't scale with you.  You can't control hardware or make favorable networking agreements.</li>
<li> So they went to a colocation arrangement. Now they can customize everything and negotiate their own contracts.</li>
<li> Use 5 or 6 data centers plus the CDN.</li>
<li> Videos come out of any data center. Not closest match or anything. If a video is popular enough it will move into the CDN.</li>
<li> Video bandwidth dependent, not really latency dependent. Can come from any colo.</li>
<li> For images latency matters, especially when you have 60 images on a page.</li>
<li> Images are replicated to different data centers using BigTable. Code<br>looks at different metrics to know who is closest.</li>
</ol>
<h2>Lessons Learned</h2>
<ol>
<li> <strong>Stall for time</strong>. Creative and risky tricks can help you cope in the short term while you work out longer term solutions.</li>
<li> <strong>Prioritize</strong>. Know what's essential to your service and prioritize your resources and efforts around those priorities.</li>
<li> <strong>Pick your battles</strong>. Don't be afraid to outsource some essential services. YouTube uses a CDN to distribute their most popular content. Creating their own network would have taken too long and cost too much. You may have similar opportunities in your system. Take a look at <a href="http://highscalability.com/tags/saas">Software as a Service</a> for more ideas.</li>
<li> <strong>Keep it simple!</strong> Simplicity allows you to rearchitect more quickly so you can respond to problems. It's true that nobody really knows what simplicity is, but if you aren't afraid to make changes then that's a good sign simplicity is happening.</li>
<li> <strong>Shard</strong>. Sharding helps to isolate and constrain storage, CPU, memory, and IO. It's not just about getting more writes performance.</li>
<li> <strong>Constant iteration on bottlenecks</strong>:<br>- Software: DB, caching<br>- OS: disk I/O <br>- Hardware: memory, RAID</li>
<li> <strong>You succeed as a team</strong>. Have a good cross discipline team that understands the whole system and what's underneath the system. People who can set up printers, machines, install networks, and so on. With a good team all things are possible.</li>
</ol>

        
  
          
  
         
  
      </div>

    

  </div>

      <div class="journal-entry-tag journal-entry-tag-post-body">
      <div class="journal-entry-tag-post-body-line1"><span class="posted-by">  <a href="http://highscalability.com/blog/author/toddhoff"> <img title="Author" alt="Author" class="inline-icon user-registered-icon" rel="smalllight" src="transparent.png">Todd Hoff</a></span> |  <span class="post-comments"><a href="http://highscalability.com/blog/2008/3/12/youtube-architecture.html#comments"> <img title="Comment" alt="Comment" class="inline-icon comment-icon" rel="smalllight" src="transparent.png">49 Comments</a></span> |  <span class="permalink-item"><a class="permalink" href="http://highscalability.com/blog/2008/3/12/youtube-architecture.html"> <img title="Permalink" alt="Permalink" class="inline-icon permalink-icon" rel="smalllight" src="transparent.png">Permalink </a></span> |  <span class="share-item"><a href="javascript:noop();" onclick="Squarespace.Interaction.shareLink(this,'%2Fblog%2F2008%2F3%2F12%2Fyoutube-architecture.html','YouTube%20Architecture');"> <img title="Share Article" alt="Share Article" class="inline-icon share-icon" rel="smalllight" src="transparent.png">Share Article </a></span> <span class="print-item"><a href="http://highscalability.com/blog/2008/3/12/youtube-architecture.html?printerFriendly=true"> <img title="Print Article" alt="Print Article" class="inline-icon print-icon" rel="smalllight" src="transparent.png">Print Article </a></span> <span class="email-item"><a href="http://highscalability.com/blog/recommend/5337290"> <img title="Email Article" alt="Email Article" class="inline-icon email-icon" rel="smalllight" src="transparent.png">Email Article </a></span> </div>
      <div class="journal-entry-tag-post-body-line2"><span class="posted-in">in <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/apache"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">Apache</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/cdn"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">CDN</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/example"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">Example</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/linux"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">Linux</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/mysql"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">MySQL</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/python"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">Python</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/shard"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">Shard</a></span>, <span class="tag-element"><a rel="tag" href="http://highscalability.com/blog/category/lighttpd"> <img title="Category" alt="Category" class="inline-icon category-icon" rel="smalllight" src="transparent.png">lighttpd</a></span></span>  <span class="post-snippet-1"><iframe src="index_1.html" style="border: medium none; overflow: hidden; width: 450px; height: 80px;" allowtransparency="true" scrolling="no" frameborder="0"></iframe></span> <span class="post-snippet-2"><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://highscalability.com/blog/2008/3/12/youtube-architecture.html" data-text="YouTube&nbsp;Architecture" data-count="horizontal">Tweet</a></span> </div>
      <div class="journal-entry-tag-post-body-line3"></div>
    </div>
  
  
  <div class="clearer"></div>

</div>
</div>





  </div>

  

  

  

  

  
    <div class="journal-comment-area-wrapper">
    <div id="comments" class="journal-comment-area">

      <h3 class="caption">Reader Comments  (49) </h3>

      
        
  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663040">

    <div id="item5663040" class="body">

      <p>Fantastic article.  </p><p>Thanks very much for this.</p><p>Dimitry.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614272" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Dimitry 
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663041">

    <div id="item5663041" class="body">

      <p>The real meat of this is skipped over in a couple of lines: keep the popular content on a CDN.  In other words, throw money at Akamai and let Akamai worry about it.</p><p>That is, of course, the right answer, but whether you're using Python or not hardly matters.  Without Akamai's services, YouTube could never have kept up with the demand given the infrastructure described above.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614273" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anonymous
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663042">

    <div id="item5663042" class="body">

      <p><i>- Living off credit cards so they leased hardware. When they needed more hardware to handle load it took a few days to order and get delivered.</i></p><p>How did this work exactly?  When we looked into this, we found that because we were a new startup, we had no credit (I guess not 'found', its pretty obvious), so hardware leasing companies would only lease to us if one of us personally backed the loans.  Given that startup risk was high and the bill was large, we ended up buying hardware and putting it on various low-intro-APR CC's, etc.  All the big h/w vendors were like "unless we can see your last N years of tax returns etc., we're not leasing to you."  Made it seem like leasing wasn't a real option for 'living off credit cards' startups.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614274" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anonymous
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663043">

    <div id="item5663043" class="body">

      <p>wow, thats a great article, didnt think about the CDN :P</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614275" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">alex
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663044">

    <div id="item5663044" class="body">

      <p>be sure to accept private venture capital financing from Sequoia, who was also the largest shareholder of Google and controlled its board.  Sequoia used its influence to force Google to massively overpay for Youtube, and the sequoia partners made an instant 500 million dollars in profit.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614276" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anonymous
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663045">

    <div id="item5663045" class="body">

      <p>The article and video have been extremely hopeful for a few projects I am working on. Thank you!</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614277" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Quinton
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663046">

    <div id="item5663046" class="body">

      <p>totally amazing; 100% worth the reading.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614278" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">gadget00
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663047">

    <div id="item5663047" class="body">

      <p>wow that's pretty insane.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614279" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Live TV
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663048">

    <div id="item5663048" class="body">

      <p>A very good article yet I have not learned anything new. The current YouTube architecture is already applied to one of our customer youtube-like, a romanian website called <a rel="nofollow" href="http://www.trilulilu.ro/">http://www.trilulilu.ro/</a> . The only thing that it wasn't yet implemented by our customer is database sharding, no need for now as the total MySQL database is under 250MB and the MySQL server handles at east more than 650 qps.</p><p></p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614280" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">George
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663049">

    <div id="item5663049" class="body">

      <p>Thats a great article.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614281" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Aaron
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663050">

    <div id="item5663050" class="body">

      <p>I think it's interesting to note that they used mod_fastcgi. I mean, I use it because I'm forced to on my shared host, but I've always heard of tons of problems when trying to scale big with it (even though that's what it's designed for). I guess if done right, FastCGI can be a great asset to a server farm.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614282" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Joephone
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663051">

    <div id="item5663051" class="body">

      <p>This is a great article, very interesting!</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614283" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Danny
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663052">

    <div id="item5663052" class="body">

      <p>Would love to hear more stories like this, Flickr, Twitter, MySpace, Meebo... Clients are still brain washed by big enterprise players thinking they need BEA Portal Server or the likes to achieve a robust, scalable enterprise solutions. It's a battle to convince them not to invest their money on something that's way to expensive, takes forever to deploy and cost a fortune (and takes forever) to make it do what you want it to do from the user experience perspective. I keep saying, "MySpace is registering 350,000 users a day and they aren't using Aqualogic - lets save that extra cash for some killer AJAX UI, widgets and an API that's actually useful. </p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614284" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Dean Whitney
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663053">

    <div id="item5663053" class="body">

      <p>You were right in that living off YOUR personal credit card... that's for sure the case to Youtube back in the early days as well...</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614285" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">fjordan
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663054">

    <div id="item5663054" class="body">

      <p>Thanks for the good article</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614286" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Kiran Vaka
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663055">

    <div id="item5663055" class="body">

      <p>Organize <a href="http://highscalability.com/%3Ca%20rel=%22nofollow%22%20href=%22http://anton.shevchuk.name/php/php-cookbook-myphptubecom/" "="">http://anton.shevchuk.name/php/php-cookbook-myphptubecom/'</a>&gt;MyPHPTube.com (YouTube clone) on LAMP (Linux, Apache, MySQL, PHP)</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614287" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anton Shevchuk
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663056">

    <div id="item5663056" class="body">

      <p>This is a wonderful read, it's good proof that Python is not the slow coach it's made out to be. In any language, the biggest setback will always be the programmer's skillset.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614288" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Coderoid
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663057">

    <div id="item5663057" class="body">

      <p>Great Article. !</p><p>Does anybody know the evolution in the number of servers they had to use in the course of their ascension. ?<br>How many did they start with and what kind of config each server had. </p><p>Also any idea which host they were using. ?</p><p>Thanks </p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614289" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Jeffos
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663058">

    <div id="item5663058" class="body">

      <p>Thank you!</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614290" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Namik
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663059">

    <div id="item5663059" class="body">

      <p>OK that was interesting information, but let's stop calling a large collection of unordered bullet points an 'article' shall we? An article has, you know, sentences. Probably arranged into paragraphs. </p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614291" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anonymous
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663060">

    <div id="item5663060" class="body">

      <p>This is a great example what makes the web 2.0. Remmber those evil old days of starting a startup with millions of spending on Oracle, SUN or other big dude just for getting the the basic program running. Now, who needs them.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614292" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Flex RIA
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663061">

    <div id="item5663061" class="body">

      <p>Does anyone know how Youtube or tinyURL generate unique ID? Are they using some kind of hash function? tinyURL doesn't generate unique ID if the URL is the same. For example, for www.google.com, it always generates <a rel="nofollow" href="http://tinyurl.com/1c2.">http://tinyurl.com/1c2.</a> How do they encode/decode the URL?</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614293" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Crt
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663062">

    <div id="item5663062" class="body">

      <p>I guess I always assumed they were preallocated so they were always minimal and unpredictable, but I couldn't find an authoritative answer. It's an interesting question though.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614294" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Todd Hoff
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663063">

    <div id="item5663063" class="body">

      <p>TinyURL needs a mapping of code -&gt; URL, so when you type www.google.com, it searches for the URL on its DB, and gives you the previously-generated code.</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614295" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">Anonymous
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>


  <div class="comment-wrapper authored-by-None">
  <div class="comment" id="comment5663064">

    <div id="item5663064" class="body">

      <p>Does anybody know the evolution in the number of servers they had to use in the course of their ascension. ?<br>How many did they start with and what kind of config each server had.</p><p>Also any idea which host they were using. ?</p><p>Thanks</p>

    </div>
    <div class="signature">

      November 29, 1990 | 
  <a href="http://highscalability.com/contributor/6614296" title="Unregistered Commenter">
  <img title="Unregistered Commenter" alt="Unregistered Commenter" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('user-unregistered.png') no-repeat scroll left top transparent;">JEffos
  
  </a>



      
        

        

      

    </div>

  </div>
  </div>



        
  <div class="paginationControlWrapper footer">

    <!-- 1 - 25 of 49 (page 1 of 2) -->

    <span class="paginationControlPrefix">
      
              Page
       
    </span>
    
    

    
              <a class="paginationPageNumber activePage" href="javascript:noop();">1</a>
      
    
              <a class="paginationPageNumber" href="http://highscalability.com/youtube-architecture?currentPage=2#comments">2</a>
      
     

    

          <span class="paginationControlNextPageSuffix">
        <a href="http://highscalability.com/youtube-architecture?currentPage=2#comments">
          Next 25 Comments
        </a>
      </span>
    
    
          <span class="paginationControlLastPageSuffix">
        <a href="http://highscalability.com/youtube-architecture?currentPage=2#comments">
          Most Recent Comment Â» 
        </a>
      </span>
    

  </div>



      

    </div>
    </div>

    
      <div class="journal-add-comment-area-wrapper">
  
          
            
            
  

  <form method="post" style="margin: 0pt; padding: 0pt;" name="postform" id="postform" action="http://highscalability.com/process/CreateJournalEntryComment?moduleId=4867632&amp;entryId=5337290"> 

     <input name="currentPage" value="1" type="hidden"> 
 
    <div class="notice-box" style="margin-top: 2em;" id="add-comment-area">

      
                              <h3 class="caption"><img title="Post" alt="Post" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('comment.png') no-repeat scroll left top transparent;">Post a New Comment</h3>
          
        

        <div class="caption-text">

          Enter your information below to add a new comment.

          

        </div>

        

        

        
          <div class="input-field">
            
            <div id="authorName_title" class="title">
               Author: 

              &nbsp;<a id="storedFieldControls" style="display: none; font-size: 9px;" href="javascript:forgetSavedFields();">(forget stored information)</a>
            </div>
            <input class="text" style="width: 200px;" name="authorName" id="authorName" value="" maxlength="50" tabindex="2" type="text">
          </div>

          <div class="input-field">
            
            <div id="authorEmail_title" class="title"> Author Email (optional): 
</div>
            <input class="text" style="width: 200px;" name="authorEmail" id="authorEmail" value="" maxlength="255" tabindex="3" type="text">
          </div>

          <div class="input-field">
            
            <div id="authorUrl_title" class="title"> Author URL (optional): 
</div>
            <input class="text" style="width: 200px;" name="authorUrl" id="authorUrl" value="" maxlength="255" tabindex="4" type="text">
          </div>

          

        

        

        
        <div id="body_title" style="padding-bottom: 5px; float: left;"> Post: 
</div>
        <div style="padding-bottom: 5px; float: right;"><a title="Increase the size of the comment area." href="javascript:expandBody();">â†“</a> | <a title="Decrease the size of the comment area." href="javascript:shrinkBody();">â†‘</a></div>
        <div class="clearer">&nbsp;</div>
        <div style="padding-bottom: 5px;"><textarea rows="15" cols="60" name="body" id="body" tabindex="5"></textarea></div>
        <div style="padding-bottom: 5px;">Some HTML allowed: &lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;code&gt; &lt;em&gt; &lt;i&gt; &lt;strike&gt; &lt;strong&gt;</div>

        

        <div class="footer">

                      <div class="notice-box-alert">
              <div class="icon"><img title="Alert" alt="Alert" class="inline-icon" rel="smalllight" src="transparent.png" style="background: url('alert.png') no-repeat scroll left top transparent;"></div>
              <div class="text">
                <strong>Comment Moderation Enabled</strong><br>
                Your comment will not appear until it has been cleared by a website editor.
              </div>
            </div>
          

                    
            <p style="padding-bottom: 10px;"><input class="checkbox" name="followOptIn" id="followOptIn" value="true" tabindex="6" type="checkbox">
              <span onclick="toggleNotify()" style="cursor: pointer;">Notify me of follow-up comments via email.</span>
            </p>
            <br>

          

          <input id="authKey" name="authKey" value="" type="hidden">
          <input style="width: 150px;" tabindex="6" class="button" name="createPostButton" id="createPostButton" value="Create Post" onclick="submitContent(true);" type="button"> &nbsp;&nbsp;
          <input style="width: 150px;" tabindex="7" class="button" name="previewPostButton" id="previewPostButton" value="Preview Post" onclick="submitContent(false);" type="button">

        </div>

      

    </div>

  </form>

  

  


  
            
  
          
  
        
  
      </div>
        
    
  
  
  

  


  

  

  
  

</div></div> <!-- Content -->
  
    
  
    </div></div> <!-- Page Body -->

    
    
    <div id="pageFooterWrapper"><div id="pageFooter">
  
              Copyright Â© 2011, Possibility Outpost.  All rights reserved.
      
  
      
  
    </div></div>
  
  </div></div> <!-- Canvas -->
  
   


  <div class="clearer" id="bodyClearer"></div>

  




<div style="color: rgb(233, 233, 233); font: 28px Arial; position: absolute; top: 0pt; left: 0pt; z-index: 950; display: none; cursor: pointer; opacity: 0;" class="squarespace-lightbox-description" id="sslightbox_title"></div><div style="color: rgb(233, 233, 233); position: absolute; font: 14px/20px Arial; top: 0pt; left: 0pt; z-index: 950; display: none; cursor: pointer; opacity: 0;" id="sslightbox_description"></div><div style="background: none repeat scroll 0% 0% rgb(0, 0, 0); width: 100%; height: 100%; position: absolute; top: 0pt; left: 0pt; z-index: 900; display: none; cursor: pointer; opacity: 0;" title="Click to Close" id="sslightbox_overlay"></div><a style="background-color: transparent; background-image: url('overlay-arrow-left.png'); position: absolute; display: none; width: 35px; height: 50px; left: 8px; z-index: 950; cursor: pointer; opacity: 0; outline: 0pt none;" href="javascript:SSLightbox.switchImage(-1);" id="sslightbox_previmg"></a><a style="background-color: transparent; background-image: url('overlay-arrow-right.png'); position: absolute; display: none; width: 35px; height: 50px; right: 8px; z-index: 950; cursor: pointer; opacity: 0; outline: 0pt none;" href="javascript:SSLightbox.switchImage(1);" id="sslightbox_nextimg"></a><div style="position: absolute; top: 360.5px; left: 620.5px; background-color: rgb(255, 255, 255); opacity: 0; z-index: 950; width: 200px; height: 200px; display: none;" id="sslightbox_imgholder"><span style="position: absolute; top: 14px; left: 14px;" classname="thumbnail-wrapper" id="sslightbox_imgwrapper"><img style="position: absolute; top: 0px; left: 0px; opacity: 0; display: none; z-index: 995; padding: 0pt; margin: 0pt; border: 0pt none; cursor: pointer;" id="sslightbox_img"></span></div><img style="position: absolute; opacity: 0; width: 48px; height: 54px; z-index: 990; padding: 0pt; margin: 0pt; border: 0pt none; cursor: pointer; left: 696.5px; top: 433.5px; display: none;" src="loading.gif" id="sslightbox_loadimg"><a style="position: absolute; display: block; z-index: 800; top: -5000px; left: -10000px;" class="picture-gallery-thumbnail-scroll-right" href="javascript:SSLightbox.scrollThumbnails(1);" id="sslightbox_scrollrightimg"></a><a style="position: absolute; display: block; z-index: 800; top: -5000px; left: -10000px;" class="picture-gallery-thumbnail-scroll-left" href="javascript:SSLightbox.scrollThumbnails(-1);" id="sslightbox_scrollleftimg"></a></body>
</html>
